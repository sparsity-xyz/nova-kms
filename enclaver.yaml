version: v1
name: "nova-kms"
target: "nova-kms:latest"

sources:
  app: "./enclave"

api:
  listen_port: 18000

aux_api:
  listen_port: 18001

ingress:
  - listen_port: 8000
  - listen_port: 18001

egress:
  allow:
    - "**"
    - "0.0.0.0/0"
    - "::/0"

defaults:
  cpu_count: 2
  memory_mb: 4096

helios_rpc:
  enabled: true
  chains:
    - name: "L2-base-sepolia"
      network_id: "84532"
      kind: opstack
      network: base-sepolia
      execution_rpc: "https://sepolia.base.org"
      local_rpc_port: 18545
