version: v1
name: "nova-kms"
target: "nova-kms:latest"

sources:
  app: "./enclave"

api:
  listen_port: 18000

aux_api:
  listen_port: 18001

ingress:
  - listen_port: 8000
  - listen_port: 18001

egress:
  allow:
    - "**"
    - "0.0.0.0/0"
    - "::/0"

storage:
  s3:
    enabled: false  # KMS is non-persistent by design

defaults:
  cpu_count: 2
  memory_mb: 4096

helios_rpc:
  enabled: true
  kind: opstack
  network: base-sepolia
  listen_port: 8545
  execution_rpc: "https://sepolia.base.org"

services: []
